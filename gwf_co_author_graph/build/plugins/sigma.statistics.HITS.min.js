!function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.classes.graph.addMethod("HITS",function(i){var h={},t=[],d=[],r=this.nodes(),o=(r.length,{});for(u in i=i||!1,r)i?(t.push(r[u]),d.push(r[u])):(0<this.degree(r[u].id,"out")&&t.push(r[u]),0<this.degree(r[u].id,"in")&&d.push(r[u])),h[r[u].id]={authority:1,hub:1};for(;;){var u,a=!0,e=0,s=0;for(u in d){o[d[u].id]={authority:1,hub:0};for(var n in(i?this.allNeighborsIndex:this.inNeighborsIndex)[d[u].id])n!=d[u].id&&(o[d[u].id].authority+=h[n].hub);e+=o[d[u].id].authority}for(u in t){o[t[u].id]?o[t[u].id].hub=1:o[t[u].id]={authority:0,hub:1};for(n in(i?this.allNeighborsIndex:this.outNeighborsIndex)[t[u].id])n!=t[u].id&&(o[t[u].id].hub+=h[n].authority);s+=o[t[u].id].hub}for(u in d)o[d[u].id].authority/=e,1e-4<=Math.abs((o[d[u].id].authority-h[d[u].id].authority)/h[d[u].id].authority)&&(a=!1);for(u in t)o[t[u].id].hub/=s,1e-4<=Math.abs((o[t[u].id].hub-h[t[u].id].hub)/h[t[u].id].hub)&&(a=!1);if(h=o,o={},a)break}return h})}.call(window);