!function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.curve=function(e,o,t,i,a){var l=e.color,r=a("prefix")||"",s=a("edgeHoverSizeRatio")*(e[r+"size"]||1),d=e.count||0,n=a("edgeColor"),g=a("defaultNodeColor"),c=a("defaultEdgeColor"),u=o[r+"size"],f=o[r+"x"],v=o[r+"y"],y=t[r+"x"],r=t[r+"y"],x=o.id===t.id?sigma.utils.getSelfLoopControlPoints(f,v,u,d):sigma.utils.getQuadraticControlPoint(f,v,y,r,d);if(!l)switch(n){case"source":l=o.color||g;break;case"target":l=t.color||g;break;default:l=c}l="edge"===a("edgeHoverColor")?e.hover_color||l:e.hover_color||a("defaultEdgeHoverColor")||l,i.strokeStyle=l,i.lineWidth=s,i.beginPath(),i.moveTo(f,v),o.id===t.id?i.bezierCurveTo(x.x1,x.y1,x.x2,x.y2,y,r):i.quadraticCurveTo(x.x,x.y,y,r),i.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.curvedArrow=function(e,o,t,i,a){var l,r,s,d,n=e.color,g=a("prefix")||"",c=a("edgeColor"),u=a("defaultNodeColor"),f=a("defaultEdgeColor"),v=a("edgeHoverSizeRatio")*(e[g+"size"]||1),y=e.count||0,x=t[g+"size"],h=o[g+"x"],C=o[g+"y"],m=t[g+"x"],g=t[g+"y"],b=o.id===t.id?sigma.utils.getSelfLoopControlPoints(h,C,x,y):sigma.utils.getQuadraticControlPoint(h,C,m,g,y),p=o.id===t.id?(p=Math.sqrt(Math.pow(m-b.x1,2)+Math.pow(g-b.y1,2)),r=b.x1+(m-b.x1)*(p-(l=2.5*v)-x)/p,s=b.y1+(g-b.y1)*(p-l-x)/p,d=(m-b.x1)*l/p,(g-b.y1)*l/p):(p=Math.sqrt(Math.pow(m-b.x,2)+Math.pow(g-b.y,2)),r=b.x+(m-b.x)*(p-(l=2.5*v)-x)/p,s=b.y+(g-b.y)*(p-l-x)/p,d=(m-b.x)*l/p,(g-b.y)*l/p);if(!n)switch(c){case"source":n=o.color||u;break;case"target":n=t.color||u;break;default:n=f}n="edge"===a("edgeHoverColor")?e.hover_color||n:e.hover_color||a("defaultEdgeHoverColor")||n,i.strokeStyle=n,i.lineWidth=v,i.beginPath(),i.moveTo(h,C),o.id===t.id?i.bezierCurveTo(b.x2,b.y2,b.x1,b.y1,r,s):i.quadraticCurveTo(b.x,b.y,r,s),i.stroke(),i.fillStyle=n,i.beginPath(),i.moveTo(r+d,s+p),i.lineTo(r+.6*p,s-.6*d),i.lineTo(r-.6*p,s+.6*d),i.lineTo(r+d,s+p),i.closePath(),i.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.curve=function(e,o,t,i,a){var l=e.color,r=a("prefix")||"",s=e[r+"size"]||1,d=e.count||0,n=a("edgeColor"),g=a("defaultNodeColor"),c=a("defaultEdgeColor"),u=o[r+"size"],f=o[r+"x"],e=o[r+"y"],a=t[r+"x"],r=t[r+"y"],v=o.id===t.id?sigma.utils.getSelfLoopControlPoints(f,e,u,d):sigma.utils.getQuadraticControlPoint(f,e,a,r,d);if(!l)switch(n){case"source":l=o.color||g;break;case"target":l=t.color||g;break;default:l=c}i.strokeStyle=l,i.lineWidth=s,i.beginPath(),i.moveTo(f,e),o.id===t.id?i.bezierCurveTo(v.x1,v.y1,v.x2,v.y2,a,r):i.quadraticCurveTo(v.x,v.y,a,r),i.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.curvedArrow=function(e,o,t,i,a){var l,r,s,d=e.color,n=a("prefix")||"",g=a("edgeColor"),c=a("defaultNodeColor"),u=a("defaultEdgeColor"),f=e[n+"size"]||1,v=e.count||0,y=t[n+"size"],x=o[n+"x"],h=o[n+"y"],e=t[n+"x"],n=t[n+"y"],a=Math.max(2.5*f,a("minArrowSize")),C=o.id===t.id?sigma.utils.getSelfLoopControlPoints(x,h,y,v):sigma.utils.getQuadraticControlPoint(x,h,e,n,v),m=o.id===t.id?(m=Math.sqrt(Math.pow(e-C.x1,2)+Math.pow(n-C.y1,2)),l=C.x1+(e-C.x1)*(m-a-y)/m,r=C.y1+(n-C.y1)*(m-a-y)/m,s=(e-C.x1)*a/m,(n-C.y1)*a/m):(m=Math.sqrt(Math.pow(e-C.x,2)+Math.pow(n-C.y,2)),l=C.x+(e-C.x)*(m-a-y)/m,r=C.y+(n-C.y)*(m-a-y)/m,s=(e-C.x)*a/m,(n-C.y)*a/m);if(!d)switch(g){case"source":d=o.color||c;break;case"target":d=t.color||c;break;default:d=u}i.strokeStyle=d,i.lineWidth=f,i.beginPath(),i.moveTo(x,h),o.id===t.id?i.bezierCurveTo(C.x2,C.y2,C.x1,C.y1,l,r):i.quadraticCurveTo(C.x,C.y,l,r),i.stroke(),i.fillStyle=d,i.beginPath(),i.moveTo(l+s,r+m),i.lineTo(l+.6*m,r-.6*s),i.lineTo(l-.6*m,r+.6*s),i.lineTo(l+s,r+m),i.closePath(),i.fill()}}(),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.edges.labels"),sigma.canvas.edges.labels.curve=function(e,o,t,i,a){var l,r,s,d,n,g,c,u,f,v,y,x;"string"==typeof e.label&&((l=e[(f=a("prefix")||"")+"size"]||1)<a("edgeLabelThreshold")||(r=o[f+"size"],s=e.count||0,d=o[f+"x"],n=o[f+"y"],y=(g=t[f+"x"])-d,u=(c=t[f+"y"])-n,x=d<g?1:-1,f={},y=o.id===t.id?(f=sigma.utils.getSelfLoopControlPoints(d,n,r,s),v=sigma.utils.getPointOnBezierCurve(.5,d,n,g,c,f.x1,f.y1,f.x2,f.y2),Math.atan2(1,1)):(f=sigma.utils.getQuadraticControlPoint(d,n,g,c,s),v=sigma.utils.getPointOnQuadraticCurve(.5,d,n,g,c,f.x,f.y),Math.atan2(u*x,y*x)),x="fixed"===a("edgeLabelSize")?a("defaultEdgeLabelSize"):a("defaultEdgeLabelSize")*l*Math.pow(l,-1/a("edgeLabelSizePowRatio")),i.save(),e.active?(i.font=[a("activeFontStyle"),x+"px",a("activeFont")||a("font")].join(" "),i.fillStyle="edge"===a("edgeActiveColor")?e.active_color||a("defaultEdgeActiveColor"):a("defaultEdgeLabelActiveColor")):(i.font=[a("fontStyle"),x+"px",a("font")].join(" "),i.fillStyle="edge"===a("edgeLabelColor")?e.color||a("defaultEdgeColor"):a("defaultEdgeLabelColor")),i.textAlign="center",i.textBaseline="alphabetic",i.translate(v.x,v.y),i.rotate(y),i.fillText(e.label,0,-l/2-3),i.restore()))}}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils=sigma.utils||{},sigma.utils.getQuadraticControlPoint=function(e,o,t,i,a){return{x:(e+t)/2+(i-o)/(60/(15+(a=a||0))),y:(o+i)/2+(e-t)/(60/(15+a))}},sigma.utils.getSelfLoopControlPoints=function(e,o,t,i){return{x1:e-7*(t+(i=i||0)),y1:o,x2:e,y2:o+7*(t+i)}}}.call(this);